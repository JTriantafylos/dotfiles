# i3 config file (v4)
#
# Please see https://i3wm.org/docs/userguide.html for a complete reference!

## Base16 Eighties
# Author: Chris Kempson (http://chriskempson.com)

set $base00 #2d2d2d
set $base01 #393939
set $base02 #515151
set $base03 #747369
set $base04 #a09f93
set $base05 #d3d0c8
set $base06 #e8e6df
set $base07 #f2f0ec
set $base08 #f2777a
set $base09 #f99157
set $base0A #ffcc66
set $base0B #99cc99
set $base0C #66cccc
set $base0D #6699cc
set $base0E #cc99cc
set $base0F #d27b53

# Set mod key to be left alt.
set $mod mod1

# Set super key to be windows key
set $super 133

# Output variables
set $primary_output DP-0
set $secondary_output HDMI-0

# Program variables
set $terminal kitty

# Font for window titles. Will also be used by the bar unless a different font
# is used in the bar {} block below.
font pango:Noto Sans 11

# Disable title bars and set a border of 3px
for_window [class="^.*"] border pixel 3

# Use pactl to adjust volume in PulseAudio
bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ +5%
bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -5%
bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute @DEFAULT_SINK@ toggle
bindsym XF86AudioMicMute exec --no-startup-id pactl set-source-mute @DEFAULT_SOURCE@ toggle

# Backlight controls
bindsym XF86MonBrightnessUp exec xbacklight -inc 10
bindsym XF86MonBrightnessDown exec xbacklight -dec 10

# Auto-start compositor
exec --no-startup-id picom -b

# Auto-start unclutter
exec --no-startup-id unclutter

# Set background color
exec --no-startup-id hsetroot -solid "#515151"

# Auto-start Nextcloud sync client with 15 second delay
exec --no-startup-id "sh -c 'sleep 15; exec nextcloud'"

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# start a terminal
bindsym $mod+Return exec $terminal

# Kill focused window
bindsym $mod+q kill

# Start application launcher
bindcode $super exec --no-startup-id rofi -show drun
bindsym $mod+p exec --no-startup-id pavucontrol

# Change focused container
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# Move focused container
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# Split in horizontal orientation
bindsym $mod+h split h

# Split in vertical orientation
bindsym $mod+v split v

# Enter fullscreen mode for the focused container
bindsym $mod+f fullscreen toggle

# Toggle tiling / floating
bindsym $mod+space floating toggle

# Toggle sticky
bindsym $mod+shift+space sticky toggle

# Toggle gaps
bindsym $mod+g gaps inner all toggle 8

# Switch workplaces with scroll wheel
bindsym --whole-window $mod+button4 workspace prev_on_output
bindsym --whole-window $mod+button5 workspace next_on_output

# Workspace variables
set $ws1 	"1"
set $ws2 	"2"
set $ws3 	"3"
set $ws4 	"4"
set $ws5 	"5"
set $ws6 	"6"
set $ws7 	"7"
set $ws8 	"8"
set $ws9 	"9"
set $ws10 	"10"
set $ws11 	"11"
set $ws12 	"12"
set $ws13 	"13"
set $ws14 	"14"
set $ws15 	"15"
set $ws16 	"16"
set $ws17 	"17"
set $ws18 	"18"
set $ws19 	"19"
set $ws20 	"20"

# Set workspace monitor outputs
workspace $ws1 	output $primary_output
workspace $ws2 	output $primary_output
workspace $ws3 	output $primary_output
workspace $ws4 	output $primary_output
workspace $ws5 	output $primary_output
workspace $ws6 	output $primary_output
workspace $ws7 	output $primary_output
workspace $ws8 	output $primary_output
workspace $ws9 	output $primary_output
workspace $ws10 output $primary_output
workspace $ws11 output $secondary_output
workspace $ws12 output $secondary_output
workspace $ws13 output $secondary_output
workspace $ws14 output $secondary_output
workspace $ws15 output $secondary_output
workspace $ws16 output $secondary_output
workspace $ws17 output $secondary_output
workspace $ws18 output $secondary_output
workspace $ws19 output $secondary_output
workspace $ws20 output $secondary_output

# Switch to workspace keybinds
bindsym $mod+1 workspace number $ws1
bindsym $mod+2 workspace number $ws2
bindsym $mod+3 workspace number $ws3
bindsym $mod+4 workspace number $ws4
bindsym $mod+5 workspace number $ws5
bindsym $mod+6 workspace number $ws6
bindsym $mod+7 workspace number $ws7
bindsym $mod+8 workspace number $ws8
bindsym $mod+9 workspace number $ws9
bindsym $mod+0 workspace number $ws10

# Move focused container to workspace
bindsym $mod+Shift+1 move container to workspace number $ws1
bindsym $mod+Shift+2 move container to workspace number $ws2
bindsym $mod+Shift+3 move container to workspace number $ws3
bindsym $mod+Shift+4 move container to workspace number $ws4
bindsym $mod+Shift+5 move container to workspace number $ws5
bindsym $mod+Shift+6 move container to workspace number $ws6
bindsym $mod+Shift+7 move container to workspace number $ws7
bindsym $mod+Shift+8 move container to workspace number $ws8
bindsym $mod+Shift+9 move container to workspace number $ws9
bindsym $mod+Shift+0 move container to workspace number $ws10

# 2nd monitor mode bindings
mode "2nd Monitor" {
    # Switch to workspace keybinds
    bindsym $mod+1 workspace number $ws11; mode "default"
    bindsym $mod+2 workspace number $ws12; mode "default"
    bindsym $mod+3 workspace number $ws13; mode "default"
    bindsym $mod+4 workspace number $ws14; mode "default"
    bindsym $mod+5 workspace number $ws15; mode "default"
    bindsym $mod+6 workspace number $ws16; mode "default"
    bindsym $mod+7 workspace number $ws17; mode "default"
    bindsym $mod+8 workspace number $ws18; mode "default"
    bindsym $mod+9 workspace number $ws19; mode "default"
    bindsym $mod+0 workspace number $ws20; mode "default"

    # Move focused container to workspace
    bindsym $mod+Shift+1 move container to workspace number $ws11; mode "default"
    bindsym $mod+Shift+2 move container to workspace number $ws12; mode "default"
    bindsym $mod+Shift+3 move container to workspace number $ws13; mode "default"
    bindsym $mod+Shift+4 move container to workspace number $ws14; mode "default"
    bindsym $mod+Shift+5 move container to workspace number $ws15; mode "default"
    bindsym $mod+Shift+6 move container to workspace number $ws16; mode "default"
    bindsym $mod+Shift+7 move container to workspace number $ws17; mode "default"
    bindsym $mod+Shift+8 move container to workspace number $ws18; mode "default"
    bindsym $mod+Shift+9 move container to workspace number $ws19; mode "default"
    bindsym $mod+Shift+0 move container to workspace number $ws20; mode "default"

    bindsym Return mode "default"
    bindsym Escape mode "default"
    bindsym $mod+Tab mode "default"
}

bindsym $mod+Tab mode "2nd Monitor"

# Restart i3 inplace
bindsym $mod+Shift+r restart

# Resize mode bindings
mode "Resize" {
    bindsym Left 	resize shrink 	width 	10 px or 10 ppt
    bindsym Down 	resize grow 	height 	10 px or 10 ppt
    bindsym Up 		resize shrink 	height 	10 px or 10 ppt
    bindsym Right 	resize grow 	width 	10 px or 10 ppt

    bindsym Return mode "default"
    bindsym Escape mode "default"
    bindsym $mod+r mode "default"
}

bindsym $mod+r mode "Resize"

# Start i3bar to display a workspace bar (plus the system information i3status
# finds out, if available)
bar {
    status_command sstatus
    tray_output primary

    colors {
        background $base00
        separator  $base01
        statusline $base04

        # State             Border  BG      Text
        focused_workspace   $base0D $base00 $base07
        active_workspace    $base03 $base00 $base07
        inactive_workspace  $base00 $base00 $base07
        urgent_workspace    $base00 $base08 $base00
        binding_mode        $base00 $base0A $base00
    }
}

# Basic color configuration using the Base16 variables for windows and borders.
# Property Name         Border  BG      Text    Indic.  Child Border
client.focused          $base0D $base0D $base00 $base0D $base0D
client.focused_inactive $base02 $base01 $base05 $base03 $base02
client.unfocused        $base02 $base01 $base05 $base03 $base02
client.urgent           $base08 $base08 $base00 $base08 $base08
client.placeholder      $base00 $base00 $base05 $base00 $base00
client.background       $base07

# Gap settings
smart_gaps inverse_outer
smart_borders on

# Application-specific settings
for_window [class="Pavucontrol"] floating enable, resize set 55ppt 40ppt, move to position center, border pixel 3
for_window [title="Android Emulator.*"] floating enable
for_window [class="jetbrains-studio" title="Settings"] floating disable
for_window [class="^libreoffice"] border normal 3
for_window [class="Nextcloud"] move to position mouse

# vim: filetype=i3config
